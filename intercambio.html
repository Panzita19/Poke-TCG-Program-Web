<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©dex - Intercambio de Cartas</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="intercambio.css">
</head>
<body>
    <header class="header-pokedex">
        <div class="contenedor-busqueda">
            <input 
                type="text" 
                id="barra-busqueda" 
                placeholder="Buscar Pok√©mon por nombre..." 
                class="input-busqueda"
            >
            <button id="boton-buscar" class="boton-buscar"></button>
        </div>
        <nav class="nav">
            <ul class="nav-list">
                <li class="nav-item"><button class="btn btn-header" id="ver-todos">Ver todos</button></li> 
                <li class="nav-item"><button class="btn btn-header normal" id="normal">Normal</button></li>
                <li class="nav-item"><button class="btn btn-header fire" id="fire">Fire</button></li>
                <li class="nav-item"><button class="btn btn-header water" id="water">Water</button></li>
                <li class="nav-item"><button class="btn btn-header grass" id="grass">Grass</button></li>
                <li class="nav-item"><button class="btn btn-header electric" id="electric">Electric</button></li>
                <li class="nav-item"><button class="btn btn-header ice" id="ice">Ice</button></li>
                <li class="nav-item"><button class="btn btn-header fighting" id="fighting">Fighting</button></li>
                <li class="nav-item"><button class="btn btn-header poison" id="poison">Poison</button></li>
                <li class="nav-item"><button class="btn btn-header ground" id="ground">Ground</button></li>
                <li class="nav-item"><button class="btn btn-header flying" id="flying">Flying</button></li>
                <li class="nav-item"><button class="btn btn-header psychic" id="psychic">Psychic</button></li>
                <li class="nav-item"><button class="btn btn-header bug" id="bug">Bug</button></li>
                <li class="nav-item"><button class="btn btn-header rock" id="rock">Rock</button></li>
                <li class="nav-item"><button class="btn btn-header ghost" id="ghost">Ghost</button></li>
                <li class="nav-item"><button class="btn btn-header dragon" id="dragon">Dragon</button></li>
                <li class="nav-item"><button class="btn btn-header steel" id="steel">Steel</button></li>
                <li class="nav-item"><button class="btn btn-header fairy" id="fairy">Fairy</button></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="intercambio" aria-labelledby="titulo-intercambio">
            <h2 id="titulo-intercambio">Intercambiar Cartas Pok√©mon</h2>
            
            <section class="usuarios-conectados" aria-labelledby="titulo-usuarios">
                <h3 id="titulo-usuarios">Usuarios Conectados</h3>
                <ul id="lista-usuarios" class="lista-usuarios">
                    <!-- Usuarios se cargar√°n din√°micamente -->
                </ul>
            </section>

            <section class="formulario-intercambio" aria-labelledby="titulo-formulario">
                <h3 id="titulo-formulario">Seleccionar Cartas para Intercambio</h3>
                
                <form id="form-intercambio">
                    <fieldset>
                        <legend>Intercambio entre:</legend>
                        
                        <label for="usuario-origen">Tu usuario:</label>
                        <input type="text" id="usuario-origen" value="" placeholder="Escribe tu nombre">
                        
                        <label for="usuario-destino">Usuario destino:</label>
                        <select id="usuario-destino" required>
                            <option value="">Selecciona un usuario</option>
                        </select>
                    </fieldset>

                    <fieldset>
                        <legend>Tus cartas disponibles:</legend>
                        <div id="tus-cartas" class="lista-cartas"></div>
                            <!-- Cartas del usuario actual -->
                        </ul>
                    </fieldset>

                    <fieldset>
                        <legend>Cartas del otro usuario:</legend>
                        <div id="cartas-destino" class="lista-cartas"></div>
                            <!-- Cartas del otro usuario -->
                        </ul>
                    </fieldset>

                    <!-- Bot√≥n eliminado para evitar duplicados -->
                </form>
                <!-- Bot√≥n √∫nico para intercambio, fuera del form -->
                <button id="boton-intercambiar" disabled>Confirmar Intercambio</button>
                <!-- Bot√≥n eliminado para evitar duplicados -->
            </section>

            <dialog id="modal-exito">
                <h3>¬°Intercambio completado!</h3>
                <p>Has intercambiado <span id="carta-tuya"></span> por <span id="carta-otro"></span>.</p>
                <button id="cerrar-modal">Cerrar</button>
            </dialog>
        </section>
    </main>

    <nav class="bottom-nav">
        <button class="nav-btn" id="btn-indice">
            <a href="index.html"> <i class="icon">üè°</i> Inicio </a>
        </button>
        <button class="nav-btn" id="btn-indice">
            <a href="pokedex.html"> <i class="icon">üìã</i> √çndice </a>
        </button>
        <button class="nav-btn" id="btn-abrir">
            <i class="icon">üéÅ</i> Abrir
        </button>
        <button class="nav-btn" id="btn-intercambiar">
            <a href="intercambio.html"><i class="icon">üîÑ</i> Intercambiar </a>
        </button>
    </nav>
    <!-- Modales para intercambio y √©xito/rechazo -->
    <div id="modal-intercambio" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center;">
      <div style="background:#fff; padding:2em; border-radius:8px; max-width:350px; margin:auto;">
        <div class="modal-body"></div>
        <button class="aceptar">Aceptar</button>
        <button class="rechazar">Rechazar</button>
      </div>
    </div>
    <div id="modal-exito" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center;">
      <div style="background:#fff; padding:2em; border-radius:8px; max-width:350px; margin:auto;">
        <div class="modal-body"></div>
      </div>
    </div>
    <script src="main.js"></script>
    <script src="intercambio.js"></script>
    <script src="trade.js"></script>
</body>
